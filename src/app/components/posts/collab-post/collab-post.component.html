<div class="container mt-3">
    <div>
        <img [routerLink]="['/user',user?.user]"
            [src]="'http://localhost:3000/images/profile_pictures/'+ (user?.profile_picture ? user?.profile_picture : 'default-user-image.png')"
            alt="" class="post-img">
        <h3 class="ml-2">
            {{user?.user}}
        </h3>
        <h5>{{user?.subtitle}}</h5>
    </div>
    <p class="text-warning my-2 type">
        {{post?.type}}
    </p>

    <div [class]="'waveContainer' + post?.idpost"></div>

    <div class="d-flex justify-content-between">
        <button class="btn btn-warning ml-3" (click)="onPlayPause()">
            <fa-icon [icon]="faPlay"></fa-icon>
        </button>
        <div>
            <button class="btn"></button>
            <label class="pb-2 volume">Volumen</label>
            <input type="range" class="form-range ml-2 mt-2" min="0" max="100" value="100"
                (input)="changeVolume($event.target.value)">
        </div>

        <div class="d-flex">
            <p class="text-white">
                {{post?.date_publish |date:'dd/MM/yyyy HH:mm'}}
            </p>
        </div>
    </div>

    <hr>

    <div class="mt-3 d-flex justify-content-between">
        <div>
            <h5 (click)="onSearch($event)">#{{post?.type}}</h5>
            <h5>Key: {{post?.key_note}}</h5>
            <h5>#{{post?.genre}}</h5>
            <h5>License: {{post?.license}}</h5>
        </div>
        <div>
            <a class="level-item text-secondary icon">
                <fa-icon [icon]="faEnvelope" class="fa-lg"></fa-icon>
            </a>
            <a class="level-item mx-3 icon">
                <fa-icon [icon]="faReply" class="fa-lg" (click)="onReply()"></fa-icon>
            </a>
            <a class="level-item mr-2 icon">
                <fa-icon [icon]="faHeart" class="fa-lg"></fa-icon>
            </a>
        </div>
    </div>
    <div *ngFor="let message of messages">
        <post-message [message]="message"></post-message>
    </div>

    <div [ngClass]="{'disabled':isDisabled}">
        <div class="form-group mt-3">
            <div>
                <img [src]="'http://localhost:3000/images/profile_pictures/'+ (user?.profile_picture ? user?.profile_picture : 'default-user-image.png')"
                    alt="" class="reply-img mb-3">
                <h6 class="ml-2">ReplierUsername</h6>
            </div>
            <input type="text" class="form-control reply-input" name="" aria-describedby="helpId"
                placeholder="Escriba su mensaje" #text_message>
        </div>
        <button class="btn btn-warning mr-auto" (click)="newMessage(text_message.value)">Enviar</button>
    </div>
</div>